{"ast":null,"code":"import _classCallCheck from \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/alumno/Desktop/ExamenAriana/twitter-mock/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport './App.css';\nimport TweetBox from './TweetBox';\nimport Feed from './Feed';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleDelete = function (id) {\n      return fetch(\"https://still-garden-88285.herokuapp.com/draft_tweets\" + id, {\n        method: 'DELETE',\n        mode: 'CORS'\n      }).then(function (res) {\n        return res;\n      }).catch(function (err) {\n        return err;\n      });\n    };\n\n    _this.state = {\n      tweets: [],\n      error: null,\n      isLoaded: true\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"https://still-garden-88285.herokuapp.com/draft_tweets\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this2.setState({\n          isLoaded: true,\n          tweets: result.draft_tweets\n        });\n      }, function (error) {\n        _this2.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(newText) {\n      var _this3 = this;\n\n      this.setState({\n        isLoaded: false\n      }); // Static UI :(\n      // let newTweet = {\n      //   id: this.state.tweets.length + 1,\n      //   user_name: 'Yvone',\n      //   avatar: 'https://img.ifcdn.com/images/d3951bf44788590b80f69c0c65718f7a23eb33c645cb677ee335f81a6e785ee6_3.jpg',\n      //   created_at: '11-03-2019',\n      //   description: newText\n      // };\n      // let tweets = this.state.tweets.slice();\n      // this.setState({ tweets: tweets.concat(newTweet) });\n      // Dynamic UI !\n\n      var newTweet = {\n        user_name: 'Yvone',\n        avatar: 'https://img.ifcdn.com/images/d3951bf44788590b80f69c0c65718f7a23eb33c645cb677ee335f81a6e785ee6_3.jpg',\n        description: newText\n      };\n      var headers = {};\n      headers['Content-Type'] = 'application/json';\n      var options = {\n        headers: headers,\n        method: 'POST',\n        // credentials: 'include',\n        body: JSON.stringify(newTweet)\n      };\n      fetch(\"https://still-garden-88285.herokuapp.com/draft_tweets\", options).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        var newTweets = _this3.state.tweets.slice();\n\n        _this3.setState({\n          isLoaded: true,\n          tweets: newTweets.concat(result.draft_tweet)\n        });\n      }, function (error) {\n        _this3.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          tweets = _this$state.tweets;\n      var content;\n\n      if (error) {\n        content = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Error: \", error.message);\n      } else {\n        return content = React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(TweetBox, {\n          onSubmitNewTweet: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), React.createElement(Feed, {\n          handleDelete: this.handleDelete,\n          tweets: tweets,\n          isLoaded: isLoaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, content);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/alumno/Desktop/ExamenAriana/twitter-mock/src/App.js"],"names":["React","Component","Fragment","TweetBox","Feed","App","props","handleDelete","id","fetch","method","mode","then","res","catch","err","state","tweets","error","isLoaded","handleSubmit","bind","json","result","setState","draft_tweets","newText","newTweet","user_name","avatar","description","headers","options","body","JSON","stringify","newTweets","slice","concat","draft_tweet","content","message"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport './App.css';\nimport TweetBox from './TweetBox';\nimport Feed from './Feed';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      tweets: [],\n      error: null,\n      isLoaded: true\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"https://still-garden-88285.herokuapp.com/draft_tweets\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            tweets: result.draft_tweets\n          })\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error: error\n          })\n        }\n      )\n  }\n\n  handleDelete = (id) => {\n    return fetch(\"https://still-garden-88285.herokuapp.com/draft_tweets\" + id, {\n      method: 'DELETE',\n      mode: 'CORS'\n    }).then(res => {\n      return res;\n    }).catch(err => err)\n\n  }\n\n  handleSubmit(newText) {\n    this.setState({isLoaded: false});\n\n    // Static UI :(\n    // let newTweet = {\n    //   id: this.state.tweets.length + 1,\n    //   user_name: 'Yvone',\n    //   avatar: 'https://img.ifcdn.com/images/d3951bf44788590b80f69c0c65718f7a23eb33c645cb677ee335f81a6e785ee6_3.jpg',\n    //   created_at: '11-03-2019',\n    //   description: newText\n    // };\n\n    // let tweets = this.state.tweets.slice();\n\n    // this.setState({ tweets: tweets.concat(newTweet) });\n\n    // Dynamic UI !\n    let newTweet = {\n      user_name: 'Yvone',\n      avatar: 'https://img.ifcdn.com/images/d3951bf44788590b80f69c0c65718f7a23eb33c645cb677ee335f81a6e785ee6_3.jpg',\n      description: newText\n    };\n\n    let headers = {};\n    headers['Content-Type'] = 'application/json';\n\n    const options = {\n      headers: headers,\n      method: 'POST',\n      // credentials: 'include',\n      body: JSON.stringify(newTweet)\n    };\n\n    fetch(\"https://still-garden-88285.herokuapp.com/draft_tweets\", options)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          let newTweets = this.state.tweets.slice();\n\n          this.setState({\n            isLoaded: true,\n            tweets: newTweets.concat(result.draft_tweet)\n          });\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n  render() {\n    const { error, isLoaded, tweets } = this.state;\n    let content;\n\n    if (error) {\n      content = <div>Error: {error.message}</div>;\n    } else {\n      return (\n        content = (\n          <Fragment>\n            <TweetBox\n              onSubmitNewTweet={this.handleSubmit}\n            />\n            <Feed \n              handleDelete={this.handleDelete}\n              tweets={tweets}\n              isLoaded={isLoaded}\n            />\n          </Fragment>\n        )\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        { content }\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}